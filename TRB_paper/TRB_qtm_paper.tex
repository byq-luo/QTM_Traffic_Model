%
% Transportation Research Board conference paper template
% version 1.1
% 
% David R. Pritchard, http://davidpritchard.org
%   1.0 - Mar. 2009
%   1.1 - Sep. 2011, fixes for captions
%   2.0 - Mar. 2012, Reorganized title page incl. automatic counters

% PAGE LAYOUT
%------------------------------------------

% Custom paper settings...
\documentclass[titlepage,oneside,12pt]{article}

\oddsidemargin 0.0in
\topmargin -0.5in
\headheight 0.3in
\headsep 0.2in
\textwidth 6.5in
\textheight 9.0in
\setlength{\parindent}{0.5in}

% PAGE HEADER
%------------------------------------------
% Adjust the header text below (INSERT AUTHORS HERE)
\oddsidemargin 0.0in
\usepackage[tiny,rm]{titlesec}
\newpagestyle{trbstyle}{
	\sethead{Guilliard}{}{\thepage}
}
\pagestyle{trbstyle}

% HEADINGS
%------------------------------------------
\renewcommand*{\refname}{\uppercase{References}}
\titleformat{\section}{\bfseries}{}{0pt}{\uppercase}
\titlespacing*{\section}{0pt}{12pt}{*0}
\titleformat{\subsection}{\bfseries}{}{0pt}{}
\titlespacing*{\subsection}{0pt}{12pt}{*0}
\titleformat{\subsubsection}{\itshape}{}{0pt}{}
\titlespacing*{\subsubsection}{0pt}{12pt}{*0}

% LISTS
%------------------------------------------
% Adjust lists a little. Not quite perfectly fitting TRB style, but vaguely
% close at least.
\usepackage{enumitem}
\setlist[1]{labelindent=0.5in,leftmargin=*}
\setlist[2]{labelindent=0in,leftmargin=*}

% CAPTIONS
%------------------------------------------
% Get the captions right. Authors must still be careful to use "Title Case"
% for table captions, and "Sentence case." for figure captions.
\usepackage{ccaption}
\usepackage{amsmath}
\makeatletter
\renewcommand{\fnum@figure}{\textbf{FIGURE~\thefigure} }
\renewcommand{\fnum@table}{\textbf{TABLE~\thetable} }
\makeatother
\captiontitlefont{\bfseries \boldmath}
\captiondelim{\;}
%\precaption{\boldmath}


% CITATIONS
%------------------------------------------
% TRB uses an Author (num) citation style. I haven't found a way to make
% LaTeX/Bibtex do this automatically using the standard \cite macro, but
% this modified \trbcite macro does the trick.

% sort&compress option?
\usepackage[sort,numbers]{natbib}
	\newcommand{\trbcite}[1]{\citeauthor{#1} ({\it \citenum{#1}})}
\setcitestyle{round}


% LINE NUMBERING
%------------------------------------------
% TRB likes line numbers on drafts to help reviewers refer to parts of the
% document. The numbering is activated with the \linenumbers command immediately
% after \begin{document} You may need to install the lineno  package from CTAN.
\usepackage[pagewise,displaymath, mathlines]{lineno}
	\renewcommand\linenumberfont{\normalfont\small}


% COUNTERS
%------------------------------------------
% TRB requires the total number of words, figures, and tables to be displayed on
% the title page. This is possible under the totcount package on CTAN.
\usepackage{totcount}
	\regtotcounter{table} 	%count tables
	\regtotcounter{figure} 	%count figures

\newcommand\wordcount{
    \immediate\write18{texcount -sum -1 \jobname.tex > 'count.txt'} \input{count.txt} }

% FONTS
%------------------------------------------
% Times for text and math
%\usepackage{fontspec}
%\setmainfont{Times New Roman}
\usepackage{times} 
%\usepackage{mathptmx}
%\usepackage{newtxmath} 
%\DeclareMathAlphabet{\mathcal}{OMS}{cmsy}{m}{n}
% Some pdf conversion tricks? Unsure.
\usepackage[T1]{fontenc}
\usepackage{textcomp}
% Fonts will be broken by Sweave without this option
\usepackage[noae]{Sweave}


% OTHER PACKAGES
%------------------------------------------
% Add any additional \usepackage declarations here.

\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{epstopdf}
\usepackage{color}
\usepackage{listings}
\usepackage{multicol}
\usepackage{subfigure}
\usepackage{tikz}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{mathtools}
\usepackage{cleveref}
\DeclareGraphicsRule{.tif}{png}{.png}{`convert #1 `dirname #1`/`basename #1 .tif`.png}
\graphicspath{{plots/}}

\newcommand*\patchAmsMathEnvironmentForLineno[1]{%
  \expandafter\let\csname old#1\expandafter\endcsname\csname #1\endcsname
  \expandafter\let\csname oldend#1\expandafter\endcsname\csname end#1\endcsname
  \renewenvironment{#1}%
     {\linenomath\csname old#1\endcsname}%
     {\csname oldend#1\endcsname\endlinenomath}}% 
\newcommand*\patchBothAmsMathEnvironmentsForLineno[1]{%
  \patchAmsMathEnvironmentForLineno{#1}%
  \patchAmsMathEnvironmentForLineno{#1*}}%
\AtBeginDocument{%
\patchBothAmsMathEnvironmentsForLineno{equation}%
\patchBothAmsMathEnvironmentsForLineno{align}%
\patchBothAmsMathEnvironmentsForLineno{flalign}%
\patchBothAmsMathEnvironmentsForLineno{alignat}%
\patchBothAmsMathEnvironmentsForLineno{gather}%
\patchBothAmsMathEnvironmentsForLineno{multline}%
}

% TITLEPAGE
%-----------------------------------------
\begin{document}

	\linenumbers % comment out for final manuscript
	\thispagestyle{empty}

\begin{titlepage}
\begin{flushleft}

% Title
{\LARGE \bfseries A Non-homogenous Time Mixed Integer LP Formulation for Traffic Signal Control}\\[1cm]

Iain Guilliard \\
iguilliard@nicta.com.au\\[0.5cm]

%Gregory S. Macfarlane\\
%Georgia Institute of Technology \\
%790 Atlantic Drive \\
%Atlanta, GA 30332-0335 \\
%gregmacfarlane@gatech.edu\\[1cm]

\wordcount words + \total{figure} figures + \total{table} tables

\today
\end{flushleft}
\end{titlepage}


\newpage



\thispagestyle{empty}
\newcommand{\Net}{\mathcal{N}}
\newcommand{\Qset}{\mathcal{Q}}
\newcommand{\QPset}[1]{\mathcal{Q}_{#1}^{\mathcal{P}}}
\newcommand{\Lset}{\mathcal{L}}
\newcommand{\Pset}{\mathcal{P}}
\newcommand{\Fvec}[1]{\mathbf{F}_{#1}}
\newcommand{\Prvec}[1]{\mathbf{Pr}_{#1}}
\newcommand{\fvec}[1]{\mathbf{f}_{#1}}

% Uncomment for old style equations
%\newcommand*{\oldeq}{}

% Uncomment for new style equations with Lin and Wang subscripts
\newcommand*{\neweqsub}{}

% Uncomment for new in out flow variables
\newcommand*{\newinoutflow}{}

\ifdefined\oldeq
%
% Old style equations
%
\newcommand{\q}[2][n]{q_{#2}^{#1}}
\newcommand{\qin}[2][n]{q_{#2,in}^{#1}}
\newcommand{\qout}[2][n]{q_{#2,out}^{#1}}
\newcommand{\f}[3][n]{f_{#2,#3}^{#1}}
\newcommand{\inq}[2][n]{in_{#2}^{#1}}
\newcommand{\outq}[2][n]{out_{#2}^{#1}}
\newcommand{\p}[3][n]{p_{#2,#3}^{#1}}
\newcommand{\pd}[3][n]{d_{#2,#3}^{#1}}
\newcommand{\aph}[2][n]{\alpha_{#2}^{#1}}
\newcommand{\tn}[1][n]{t^{#1}}
\newcommand{\DT}[1][n]{\Delta t^{#1}}

\newcommand{\Nn}{\mathrm{N}}
\newcommand{\Qn}{|\mathcal{\Qset}|}
\newcommand{\Ln}{|\mathcal{\Lset}|}
\newcommand{\Pn}[1][\ell]{|\mathcal{\Pset}_{#1}|}
\newcommand{\TMAX}{T^{MAX}}
\newcommand{\QMAX}[1]{Q_{#1}^{MAX}}
\newcommand{\QIN}[1]{Q_{#1}^{IN}}
\newcommand{\QOUT}[1]{Q_{#1}^{OUT}}
\newcommand{\QDELAY}[1]{Q_{#1}^{DELAY}}
\newcommand{\FMAX}[2]{F_{#1,#2}^{MAX}}
\newcommand{\FTURN}[2]{F_{#1,#2}^{TURN}}
\newcommand{\PTMAX}[2]{PT_{#1,#2}^{MAX}}
\newcommand{\PTMIN}[2]{PT_{#1,#2}^{MIN}}
\newcommand{\CTMAX}[1]{CT_{#1}^{MAX}}
\newcommand{\CTMIN}[1]{CT_{#1}^{MIN}}

\else
\ifdefined\neweqsub
%
% New style equations subscript
%
\newcommand{\q}[2][n]{q_{#2,#1}}
\newcommand{\qin}[2][n]{q_{#2,#1}^{\mathrm{in}}}
\newcommand{\qout}[2][n]{q_{#2,#1}^{\mathrm{out}}}
\newcommand{\f}[3][n]{f_{#2\to#3,#1}}

%\ifdefined\newinoutflow
\newcommand{\inq}[2][n]{f_{in\to#2,#1}}
\newcommand{\outq}[2][n]{f_{#2\to out,#1}}
%\else
%\newcommand{\inq}[2][n]{in_{#2,#1}}
%\newcommand{\outq}[2][n]{out_{#2,#1}}
%\fi

\newcommand{\p}[3][n]{p_{#2,#3,#1}}
\newcommand{\pd}[3][n]{d_{#2,#3,#1}}
\newcommand{\aph}[2][n]{\alpha_{#2,#1}}
\newcommand{\tn}[1][n]{t_{#1}}
\newcommand{\DT}[1][n]{\Delta t_{#1}}

\newcommand{\Nn}{\mathrm{N}}
\newcommand{\Qn}{|\mathcal{\Qset}|}
\newcommand{\Ln}{|\mathcal{\Lset}|}
\newcommand{\Pn}[1][\ell]{|\mathcal{\Pset}_{#1}|}
\newcommand{\TMAX}{\mathrm{T}}
\newcommand{\QMAX}[1]{\mathrm{Q}_{#1}}

\ifdefined\newinoutflow
\newcommand{\QIN}[1]{\mathrm{F}_{in\to#1}}
\newcommand{\QOUT}[1]{\mathrm{F}_{#1\to out}}
\else
\newcommand{\QIN}[1]{\mathrm{Q}_{#1}^{\mathrm{in}}}
\newcommand{\QOUT}[1]{\mathrm{Q}_{#1}^{\mathrm{out}}}
\fi

\newcommand{\QDELAY}[1]{\mathrm{Q}_{#1}^{\mathrm{delay}}}
\newcommand{\FMAX}[2]{\mathrm{F}_{#1\to#2}}
\newcommand{\FTURN}[2]{\mathrm{Pr}_{#1\to#2}^{\mathrm{}}}
\newcommand{\PTMAX}[3][,]{\mathrm{\Phi}_{#2#1#3}^{\mathrm{max}}}
\newcommand{\PTMIN}[3][,]{\mathrm{\Phi}_{#2#1#3}^{\mathrm{min}}}
\newcommand{\CTMAX}[1]{\mathrm{\Psi}_{#1}^{\mathrm{max}}}
\newcommand{\CTMIN}[1]{\mathrm{\Psi}_{#1}^{\mathrm{min}}}



\else
%
% New style equations superscipt
%
\newcommand{\q}[2][n]{q_{#2}^{(#1)}}
\newcommand{\qin}[2][n]{q_{#2,in}^{(#1)}}
\newcommand{\qout}[2][n]{q_{#2,out}^{(#1)}}
\newcommand{\f}[3][n]{f_{#2\to#3}^{(#1)}}
\newcommand{\inq}[2][n]{in_{#2}^{(#1)}}
\newcommand{\outq}[2][n]{out_{#2}^{(#1)}}
\newcommand{\p}[3][n]{p_{#2,#3}^{(#1)}}
\newcommand{\pd}[3][n]{d_{#2,#3}^{(#1)}}
\newcommand{\aph}[2][n]{\alpha_{#2}^{(#1)}}
\newcommand{\tn}[1][n]{t^{(#1)}}
\newcommand{\DT}[1][n]{\Delta t^{(#1)}}

\newcommand{\Nn}{\mathrm{N}}
\newcommand{\Qn}{|\mathcal{\Qset}|}
\newcommand{\Ln}{|\mathcal{\Let}|}
\newcommand{\Pn}[1][\ell]{|\mathcal{\Pet}_{#1}|}
\newcommand{\TMAX}{\mathrm{T}}
\newcommand{\QMAX}[1]{\mathrm{Q}_{#1}}
\newcommand{\QIN}[1]{\mathrm{Q}_{#1}^{\mathrm{in}}}
\newcommand{\QOUT}[1]{\mathrm{Q}_{#1}^{\mathrm{out}}}
\newcommand{\QDELAY}[1]{\mathrm{Q}_{#1}^{\mathrm{delay}}}
\newcommand{\FMAX}[2]{\mathrm{F}_{#1\to#2}}
\newcommand{\FTURN}[2]{\mathrm{Pr}_{#1\to#2}^{\mathrm{}}}
\newcommand{\PTMAX}[3][,]{\mathrm{\Phi}_{#2#1#3}^{\mathrm{max}}}
\newcommand{\PTMIN}[3][,]{\mathrm{\Phi}_{#2#1#3}^{\mathrm{min}}}
\newcommand{\CTMAX}[1]{\mathrm{\Psi}_{#1}^{\mathrm{max}}}
\newcommand{\CTMIN}[1]{\mathrm{\Psi}_{#1}^{\mathrm{min}}}

\fi



%
% 
%

\input{./tex/Introduction.tex}

\input{./tex/Model.tex}

\input{./tex/Experiments.tex}

\input{./tex/Conclusion.tex}

\bibliographystyle{trb}
\bibliography{Transport}

% End line numbering
\nolinenumbers
\end{document}
